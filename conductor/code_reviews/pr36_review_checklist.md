# PR #36 Review Checklist

- [x] **conductor/user_linking_design.md**: Update Profile schema documentation to reflect real implementation (all fields) or state it's a simplified illustration.
- [x] **app/src/components/BidForm.tsx**: Remove unused `prevNextMinBid` state, its setter, and related no-op references.
- [x] **app/convex/notifications.ts**: Use `by_recipient_createdAt` index for queries to ensure correct ordering and avoid newest items being dropped.
- [x] **app/convex/support.ts**: Explicitly specify sort field (e.g., `updatedAt` or `createdAt`) in `.order()` calls.
- [x] **app/src/components/__tests__/BidForm.test.tsx**: Update "enables bidding by default" test to remove "Verification Required" assertion and correctly verify disabled state when `isVerified` is false.
- [x] **app/src/components/__tests__/BidHistory.test.tsx**: Update ZAR regex pattern to be less fragile (explicit thousands separator and escaped dot).
- [x] **app/src/components/admin/FinanceTab.tsx**: Update API return type/interface to include `estimatedCommission` or compute it client-side without type assertions.
- [x] **app/src/components/Layout.tsx**: Add inline comment and `eslint-disable` for `useEffect` with empty dependency array used for `syncUserRef`.
- [x] **app/src/components/ListingWizard/steps/ReviewSubmitStep.tsx**: Standardize ZAR currency prefix spacing (choice between "R{amount}" and "R {amount}").
- [x] **app/src/components/ui/checkbox.tsx**: Fix Radix import to use `@radix-ui/react-checkbox` and wrap component with `React.forwardRef`.
- [x] **app/src/pages/AdminDashboard.tsx**: Reset `showFullId` flag when closing KYC dialog or changing the selected user.
- [x] **codebase_notes.md**: Add blank line before "### Environment Variables" heading (MD022).
- [x] **conductor/code_reviews/pr36_review_checklist.md**: Ensure bolding uses `**` instead of `__` for test directory names (MD050).
- [x] **app/convex/admin_utils.ts**: Implement stricter base64 validation in decryption routine to prevent passing invalid plaintext to `atob`.
- [x] **app/convex/admin.ts**: Ensure `auction.currentPrice` recomputation and patch are atomic (single mutation/transaction).
- [x] **app/convex/auctions.ts**: Use `findUserById` helper in `placeBid` for consistent user/profile lookup.
- [x] **app/convex/seed.ts**: Improve type safety for `deleteMany` calls in seed script (strong typing or runtime guards).
- [x] **app/src/components/admin/AuditTab.tsx**: Implement conditional truncation for `adminId` (only truncate if length > 10).
- [x] **app/src/components/admin/FinanceTab.tsx**: Add empty state message for `recentSales` table when no transactions exist.
- [x] **app/src/components/ui/tabs.tsx**: Fix Radix import to use `@radix-ui/react-tabs`.
- [x] **app/src/components/admin/SupportTab.tsx**: Implement a resolution dialog to allow admins to provide a custom resolution message when resolving tickets.
